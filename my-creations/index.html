<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login to Photo to Video AI | Your Hub for AI Art & Video Creation</title>
    <meta name="description" content="Access your Photo to Video AI account to start creating stunning AI videos, images, text-to-video, and image-to-image projects. Log in securely and unleash your creativity.">
    <meta name="keywords" content="">
    <script src="/tailwind.js"></script>
    <link rel="stylesheet" href="/tailwind.css">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="canonical" href="https://flux-kontext-ai.org"/>
    <link rel="icon" href="/img/logo.png" type="image/x-icon">
    
    <script src="/js/my-common-util.js"></script>
    <script>
        global_type = GlobalConfig.TYPE_PAGE_IMAGE_TO_VIDEO;
    </script>

    <script src="/js/my-local-storage-util.js"></script>
    <script src="/js/my-login.js"></script>
    <script src="/js/my_nav.js"></script>
    <script src="/js/custom-toast.js"></script>
    <script src="/js/my-dropdown-menu.js"></script>
    <script src="/js/my-loading-util.js"></script>
    <script src="/js/my-footer.js"></script>
    
    <script src="/js/my-lan-config.js"></script>
    <script src="/js/my-lan-manager.js"></script>
        
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BWQJSYVF4W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-BWQJSYVF4W');
    </script>
    
    <style>
        /* 旋转小点动画（让 orbit 容器转起来） */
        @keyframes orbit-rot{from{transform:rotate(0)}to{transform:rotate(360deg)}}
        .orbit{animation:orbit-rot 2.6s linear infinite;will-change:transform}
        /* 轻微上下浮动（用于中心图标，可选） */
        @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}
        .floaty{animation:floaty 2.2s ease-in-out infinite}
    </style>

    <!-- 设置登录、初始化顶部导航、侧边栏 -->
    <script>
        // 设置导航条的按钮的点击事件
        init_nav_event ("../", 6);

    </script>

</head>

<body class="bg-[#0f1115] text-gray-200">

    <!-- 通用顶部导航组件 -->
    <header class="fixed top-0 inset-x-0 h-14 bg-[#0b0d12]/90 backdrop-blur border-b border-white/5 z-50">
    </header>

    <!-- Sidebar + Main -->
    <div class="pt-14 mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-[260px,1fr] gap-4">

            <!-- 通用侧边栏组件 -->
            <aside class="hidden lg:block h-[calc(100vh-64px)] sticky top-14 bg-[#0b0e13] border border-white/5 rounded-lg overflow-hidden">
            </aside>

            <!-- 主内容区域 -->
            <main class="min-h-[calc(100vh-64px)]">
                <!-- 选择按钮区域 -->
                <div class="flex items-center">
                    <button id="id_btn_my_creations_images" class="bg-[#1a1d26] group flex items-center justify-center w-20  py-2 rounded-l-md text-slate-300 hover:bg-[#333] hover:text-red-500">
                        <svg class="w-[18px] h-[18px] text-slate-400 group-hover:text-red-500 " viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="6" width="18" height="12" rx="2"></rect><path d="M7 10h10M7 14h6"/></svg>
                        <span class="text-[0.92rem] ml-1 group-hover:text-red-500">图片</span>
                    </button>
                    <button id="id_btn_my_creations_videos" class="bg-[#1a1d26] group flex items-center justify-center w-20  py-2 rounded-r-md text-red-500 hover:bg-[#333] ">
                        <svg class="w-[18px] h-[18px] text-red-500 group-hover:text-red-500 " viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="3" width="7" height="7" rx="1.5"></rect><rect x="14" y="3" width="7" height="7" rx="1.5"></rect><rect x="3" y="14" width="7" height="7" rx="1.5"></rect><rect x="14" y="14" width="7" height="7" rx="1.5"></rect></svg>
                        <span class="text-[0.92rem] ml-1 group-hover:text-red-500">视频</span>
                    </button>
                </div>


                <!-- 加载中布局 -->
                <div id="id_loading_state_layout" class="flex flex-col items-center justify-center min-h-[400px] bg-[#1a1d26] rounded-md mt-4 p-6">
                    <div class="relative" style="width: 420px; height: 220px;">
                        <!-- 背景光晕效果（冷色系，暗色风格） -->
                        <div class="absolute inset-0 bg-gradient-to-br from-[#2563EB]/25 via-[#06B6D4]/20 to-[#1E293B]/20 rounded-2xl blur-xl"></div>
                        
                        <!-- 主容器（玻璃拟态 + 暗色） -->
                        <div class="relative w-full h-full bg-[#0b0e13]/90 backdrop-blur-xl rounded-2xl border border-white/10 p-6 overflow-hidden shadow-[0_20px_80px_-20px_rgba(0,0,0,0.7)]">
                            <!-- 动态背景细纹与渐变流动 -->
                            <div class="absolute inset-0 bg-gradient-to-r from-[#2563EB]/10 to-[#06B6D4]/10 animate-gradient"></div>
                            <div class="absolute inset-0 bg-grid opacity-10"></div>
        
                            <!-- 内容区域 -->
                            <div class="relative flex flex-col items-center justify-center h-full select-none">
                                <!-- 加载动画（中心图标 + 环绕小点） -->
                                <div class="relative mb-4">
                                    <!-- 外环发光圈 -->
                                    <div class="absolute -inset-3 rounded-full bg-gradient-to-tr from-blue-500/20 to-cyan-400/20 blur-xl"></div>
                                    <!-- 旋转环 -->
                                    <div class="w-16 h-16 rounded-full border-2 border-transparent loading-spinner" style="border-top-color:#60A5FA;border-bottom-color:#22D3EE"></div>
                                    <!-- 中心图标 -->
                                    <div class="absolute inset-0 flex items-center justify-center">
                                        <svg class="w-6 h-6 text-blue-300 opacity-90" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v4M12 17v4M3 12h4M17 12h4"/><path d="M7 17l10-10"/></svg>
                                    </div>
                                    <!-- 环绕小点（旋转） -->
                                    <div class="absolute inset-0 orbit">
                                        <span class="absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-blue-400"></span>
                                        <span class="absolute top-1/2 -right-1 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-cyan-400"></span>
                                        <span class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-sky-400"></span>
                                        <span class="absolute top-1/2 -left-1 -translate-y-1/2 w-2 h-2 rounded-full bg-indigo-400"></span>
                                    </div>
                                </div>
                                
                                <!-- 文字区域 -->
                                <div class="text-center">
                                    <p class="text-[18px] font-semibold text-white mb-1">Your Creations Is Loading...</p>
                                    <p class="text-gray-400 text-[13px]">Please wait for a moment ...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 空状态布局 -->
                <div id="id_empty_state_layout" class="hidden flex flex-col items-center justify-center min-h-[400px] bg-[#1a1d26] rounded-md mt-4 p-6">
                    <div class="relative">
                        <div class="absolute inset-0 bg-gradient-to-r from-[#FF3366]/20 to-[#9D34DA]/20 rounded-full blur-xl opacity-70 animate-pulse"></div>
                        <div class="relative w-28 h-28 glass rounded-full flex items-center justify-center">
                            <svg class="w-16 h-16 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="mt-6 text-2xl font-bold text-white">No Works to Display</h2>
                    <p class="mt-2 text-gray-400 text-center max-w-sm">
                        Start creating your first AI-enhanced image to bring ordinary photos to life.
                    </p>
                    <button onclick="window.location.href='/'" class="mt-6 px-8 py-3 bg-gradient-to-r from-[#FF3366] to-[#ff0000] text-white rounded-full font-medium hover:shadow-lg hover:shadow-[#FF3366]/20 transition-all duration-300 transform hover:-translate-y-0.5">
                        Create Now
                    </button>
                    <div class="mt-4 text-gray-500">
                        <p>You can get started by:</p>
                        <ul class="list-disc list-inside">
                            <li>Uploading your image</li>
                            <li>Choosing a video template</li>
                            <li>Using our AI tools for creation</li>
                        </ul>
                    </div>

                </div>


                <!-- 网格展示作品 -->
                <div id="grid_container" class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- 作品项将通过 JavaScript 动态添加 -->
                </div>

                <!-- 通用页脚组件 -->
                <footer class="bg-[#0A0A0B] text-white py-12 md:py-20">
                    <!-- footer.js 会将内容注入到这里 -->
                </footer>

            </main>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const id_btn_my_creations_images = document.getElementById('id_btn_my_creations_images');
            const id_btn_my_creations_videos = document.getElementById('id_btn_my_creations_videos');

            // 默认选中图片按钮
            setActiveButton(id_btn_my_creations_images);
            setInactiveButton(id_btn_my_creations_videos);

            // 点击图片按钮
            id_btn_my_creations_images.addEventListener('click', () => {
                setActiveButton(id_btn_my_creations_images);
                setInactiveButton(id_btn_my_creations_videos);
                loadImages(); // 加载图片作品
            });

            // 点击视频按钮
            id_btn_my_creations_videos.addEventListener('click', () => {
                setActiveButton(id_btn_my_creations_videos);
                setInactiveButton(id_btn_my_creations_images);
                loadVideos(); // 加载视频作品
            });



            const loadingState = document.getElementById('id_loading_state_layout');
            const emptyState = document.getElementById('id_empty_state_layout');
            const gridContainer = document.getElementById('grid_container');

            // 默认加载图片作品
            loadImages();

            // 加载图片作品
            function loadImages() {

                gridContainer.innerHTML = ''; // 清空当前内容
                loadingState.classList.remove('hidden'); // 显示加载状态

                fetchImages().then(images => {

                    loadingState.classList.add('hidden'); // 隐藏加载状态

                    if (images.length === 0) {
                        emptyState.classList.remove('hidden'); // 显示空状态
                    } else {
                        emptyState.classList.add('hidden'); // 隐藏空状态
                        images.forEach(image => {
                            const item = createImageCard(image);
                            gridContainer.insertAdjacentHTML('beforeend', item);
                        });
                    }
                }).catch(error => {
                    console.error('加载图片失败:', error);
                    loadingState.classList.add('hidden'); // 隐藏加载状
                    emptyState.classList.remove('hidden'); // 显示空状态
                });
            }


            // 创建图片卡片HTML
            // <div class="p-2 text-center text-white">
            //     <h3 class="text-lg font-semibold">${image.title}</h3>
            //     <p class="text-sm text-gray-400">${image.description}</p>
            // </div>
            function createImageCard(image) {
                return `
                    <div class="image-card bg-white/5 backdrop-blur-lg rounded-lg overflow-hidden group cursor-pointer"
                        onclick="window.open('${image.generatedUrl}', '_blank')">
                        <div class="relative w-full aspect-[4/3]">
                            <img src="${image.generatedUrl}" 
                                alt="AI generated image" 
                                class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                        </div>
                    </div>
                `;
            }

            // fetchImages 函数
            async function fetchImages(page = 1) {
                return new Promise((resolve, reject) => {
                    get_more_images((images, totalPages, error) => {
                        if (error) {
                            console.error('获取图片失败:', error);
                            reject(error);
                            return;
                        }

                        if (!images || images.length === 0) {
                            resolve([]);
                            return;
                        }

                        // 转换数据格式以匹配现有的展示逻辑
                        const formattedImages = images.map(image => ({
                            id: image.id || Math.random().toString(36).substr(2, 9),
                            imageUrl: image.image_original, // 使用原图
                            generatedUrl: image.image_generated, // 生成的图片
                            title: 'Image Enhancement',
                            description: 'Use AI to enhance the quality of the photo',
                            createTime: image.created_at || new Date().toLocaleString(),
                            status: 'completed'
                        }));

                        resolve(formattedImages);
                    });
                });
            }


            // 加载视频作品
            function loadVideos() {
                gridContainer.innerHTML = ''; // 清空当前内容
                loadingState.classList.remove('hidden'); // 显示加载状态

                fetchVideos().then(videos => {

                    loadingState.classList.add('hidden'); // 隐藏加载状态

                    if (videos.length === 0) {
                        emptyState.classList.remove('hidden'); // 显示空状态
                    } else {
                        emptyState.classList.add('hidden'); // 隐藏空状态
                        videos.forEach(video => {

                        const item = document.createElement('div');
                        
                        // 修改这里，为容器添加宽高比类
                        item.className = 'bg-white/5 backdrop-blur-lg rounded-lg overflow-hidden group cursor-pointer'; 
                        item.innerHTML = `
                            <div class="relative w-full aspect-[4/3]">
                                <video controls class="absolute inset-0 w-full h-full object-cover rounded-md">
                                    <source src="${video.generatedUrl}" type="video/mp4">
                                    您的浏览器不支持视频标签。
                                </video>
                            </div>
                        `;
                        gridContainer.appendChild(item);

                    });
                    }
                    }).catch(error => {
                    console.error('加载图片失败:', error);
                    loadingState.classList.add('hidden'); // 隐藏加载状
                    emptyState.classList.remove('hidden'); // 显示空状态
                });
            }


            async function fetchVideos(page = 1) {
                return new Promise((resolve, reject) => {
                    get_more_videos((videos, totalPages, error) => {
                        if (error) {
                            console.error('获取图片失败:', error);
                            reject(error);
                            return;
                        }

                        if (!videos || videos.length === 0) {
                            resolve([]);
                            return;
                        }

                        // 转换数据格式以匹配现有的展示逻辑
                        const formattedImages = videos.map(video => ({
                            id: video.video_id || Math.random().toString(36).substr(2, 9),
                            // imageUrl: video.image_original, // 使用原图
                            generatedUrl: video.video_url, // 生成的图片
                            title: 'Image Enhancement',
                            description: 'Use AI to enhance the quality of the photo',
                            createTime: video.create_at || new Date().toLocaleString(),
                            status: 'completed'
                        }));

                        console.log("formattedImages", formattedImages);

                        resolve(formattedImages);
                    });
                });
            }


        });




        // 设置按钮为选中状态
        function setActiveButton(button) {
            button.classList.add('bg-[#333]', 'text-red-500');
            button.querySelector('svg').classList.add('text-red-500');
            button.querySelector('svg').classList.remove('text-slate-400');
            button.querySelector('span').classList.add('text-red-500');
            button.querySelector('span').classList.remove('text-slate-400');
        }

        // 设置按钮为未选中状态
        function setInactiveButton(button) {
            button.classList.remove('bg-[#333]', 'text-red-500');
            button.classList.add('bg-[#1a1d26]', 'text-slate-400');
            button.querySelector('svg').classList.remove('text-red-500');
            button.querySelector('svg').classList.add('text-slate-400');
            button.querySelector('span').classList.remove('text-red-500');
            button.querySelector('span').classList.add('text-slate-400');
        }
    </script>

</body>
</html>

